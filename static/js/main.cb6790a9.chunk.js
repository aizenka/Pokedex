(this["webpackJsonppokedex-app"]=this["webpackJsonppokedex-app"]||[]).push([[0],{10:function(e,t,n){},19:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),r=n(20),c=n.n(r),o=(n(28),n(3)),a=(n(29),function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("h2",{children:"Pokedex"}),Object(s.jsx)("h4",{children:"pokemon database"})]})})}),l=(n(10),Object(o.a)((function(e){var t=e.store,n=Object(i.useCallback)((function(e,n){""===t.filter&&(n>0&&t.setLimit(n),1===e&&t.setOffset(t.limit,1),-1===e&&t.setOffset(t.limit,-1),t.offset<0&&t.setOffset(t.offset,0),t.getAllPokemons(t.limit,t.offset).then((function(e){t.setPokeList(e)})).catch((function(e){return console.log(e)})))}),[t.pokeList]);Object(i.useEffect)((function(){n()}),[]);var r=function(e){if(e)return e.map((function(e,n){var i=e.id,r=e.name,c=r[0].toUpperCase()+r.slice(1),o="".concat(i.slice(1),". ").concat(c);return Object(s.jsx)("li",{className:"pokelist-item",onClick:function(){return t.onPokemonSelected(i.slice(1))},children:o},i)}))},c=""!==t.filter?r(t.filteredFullList):r(t.pokeList);return Object(s.jsxs)("div",{className:"pokemon-list",children:[!t.pokeList&&Object(s.jsx)("span",{children:"Loading..."}),Object(s.jsx)("h2",{children:"Select pokemon"}),Object(s.jsx)("div",{className:"pokemons",children:Object(s.jsx)("ul",{children:c})}),Object(s.jsxs)("div",{className:"pagination-menu",children:[Object(s.jsxs)("div",{className:"pagination-arrow",children:[Object(s.jsx)("button",{className:"pagination-button",onClick:function(){return n(-1,0)},children:Object(s.jsx)("i",{className:"fa fa-long-arrow-left","aria-hidden":"true"})}),Object(s.jsx)("button",{className:"pagination-button",onClick:function(){return n(1,0)},children:Object(s.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]}),Object(s.jsxs)("div",{className:"pagination-list",children:[Object(s.jsx)("button",{className:"limit-list-item",onClick:function(){return n(0,10)},children:"10"}),Object(s.jsx)("button",{className:"limit-list-item",onClick:function(){return n(0,20)},children:"20"}),Object(s.jsx)("button",{className:"limit-list-item",onClick:function(){return n(0,50)},children:"50"})]})]})]})}))),u=Object(o.a)((function(e){var t=e.store;Object(i.useEffect)((function(){t.getPokemonWithCurrentType(t.pokeTypeID).then((function(e){t.setPokeTypeList(e)}))}),[t.pokeTypeID]);var n=function(e){if(e)return e.map((function(e){var n=function(e){return e.url.slice(0,-1).match(/\/([0-9]*)$/)[0]}(e.pokemon),i=e.pokemon.name[0].toUpperCase()+e.pokemon.name.slice(1);return Object(s.jsxs)("li",{className:"pokelist-item",onClick:function(){return t.onPokemonSelected(n.slice(1))},children:[n.slice(1),".",i]},n)}))}(t.filteredTypesList);return Object(s.jsxs)("div",{className:"pokemon-list",children:[Object(s.jsx)("h2",{children:"Poke list"}),Object(s.jsx)("div",{className:"pokemons",children:Object(s.jsx)("ul",{children:n})}),Object(s.jsxs)("button",{className:"go-back-button",onClick:function(){return t.onTypeSelected("")},children:["Go to full list ",Object(s.jsx)("i",{className:"fa fa-home"})]})]})})),p=n(5),f=n.n(p),j=n(6),h=n(21),d=n(22),b=n(2),m=n(9),k=n.n(m);Object(b.h)({enforceActions:"observed"});var O=new(function(){function e(){var t=this;Object(h.a)(this,e),this.getResource=function(){var e=Object(j.a)(f.a.mark((function e(n){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(t._apiURL).concat(n));case 3:return s=e.sent,e.abrupt("return",s.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCurrentResource=function(){var e=Object(j.a)(f.a.mark((function e(n){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(t._apiURL).concat(n));case 3:return s=e.sent,e.abrupt("return",s.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getAllPokemons=function(){var e=Object(j.a)(f.a.mark((function e(n,s){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon?limit=".concat(n,"&offset=").concat(s));case 2:return i=e.sent,e.abrupt("return",i.map(t.transformPokeList));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getPokemon=function(){var e=Object(j.a)(f.a.mark((function e(n){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCurrentResource("/pokemon/".concat(n));case 2:return s=e.sent,e.abrupt("return",t.transformPokemon(s));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllTypes=Object(j.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getResource("/type/");case 3:return n=e.sent,e.abrupt("return",n.map(t.transformPokeList));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getPokemonWithCurrentType=function(){var e=Object(j.a)(f.a.mark((function e(n){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCurrentResource("/type/".concat(n));case 2:return s=e.sent,e.abrupt("return",s.pokemon);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setLimit=function(e){t.limit=e},this.setOffset=function(e,n){1===n?t.offset+=e:-1===n?t.offset-=e:0===n&&(t.offset=0)},this.setFilteredFullList=function(e){t.filteredList=e},this.updateFilter=function(e){t.filter=e},this.setPokeStats=function(e){t.pokeStats=e},this.setPokeTypeList=function(e){t.pokeTypeList=e},this.setPokeTypesOptions=function(e){t.pokeTypesOptions=e},this.setPokeList=function(e){t.pokeList=e},this.onTypeSelected=function(e){t.pokeTypeID=e},this.onPokemonSelected=function(e){t.pokeID=e},this.extractId=function(e){return e.url.slice(0,-1).match(/\/([0-9]*)$/)[0]},this.transformPokemon=function(e){return{name:e.name,id:e.id,sprite:e.sprites.front_default,abilities:e.abilities,types:e.types,height:e.height,weight:e.weight}},this.transformPokeList=function(e){return{id:t.extractId(e),name:e.name}},this._apiURL="https://pokeapi.co/api/v2",this.pokeList=[],this.pokeStats=[],this.pokeTypesOptions=[],this.pokeTypeList=[],this.pokeTypeID="",this.pokeID="",this.filteredList=[],this.limit=10,this.offset=0,this.filter="",Object(b.n)(this,{filteredList:b.o,pokeList:b.o,pokeID:b.o,pokeTypeID:b.o,pokeStats:b.o,filter:b.o,pokeTypesOptions:b.o,pokeTypeList:b.o,limit:b.o,offset:b.o,onPokemonSelected:b.f,setPokeStats:b.f,setPokeList:b.f,setPokeTypesOptions:b.f,setPokeTypeList:b.f,onTypeSelected:b.f,setLimit:b.f,setOffset:b.f,updateFilter:b.f,setFilteredFullList:b.f,filteredFullList:b.g,filteredTypesList:b.g})}return Object(d.a)(e,[{key:"filteredFullList",get:function(){var e=this,t=new RegExp(this.filter,"i");return this.filteredList.filter((function(n){var s=n.name;return!e.filter||t.test(s)}))}},{key:"filteredTypesList",get:function(){var e=this,t=new RegExp(this.filter,"i");return this.pokeTypeList.filter((function(n){var s=n.pokemon.name;return!e.filter||t.test(s)}))}}]),e}());O.getAllPokemons(1050,0).then((function(e){O.setFilteredFullList(e)}));var x=O,v=(n(19),Object(o.a)((function(e){var t=e.store,n=Object(i.useCallback)((function(){t.getPokemon(t.pokeID).then((function(e){return t.setPokeStats(e)})).catch((function(e){return console.log(e)}))}),[t.pokeID]);Object(i.useEffect)((function(){t.pokeID&&n()}),[t.pokeID]);var r=t.pokeStats,c=r.name,o=r.abilities,a=r.types,l=r.height,u=r.weight,p=r.sprite,f=function(){if(a)return a.map((function(e){return Object(s.jsxs)("li",{className:"pokelist-item",children:["- ",e.type.name]},e.type.url)}))}(),j=function(){if(o)return o.map((function(e){return Object(s.jsxs)("li",{children:["- ",e.ability.name]},e.ability.url)}))}();return Object(s.jsxs)("div",{className:"poke-info",children:[!t.pokeStats&&Object(s.jsx)("span",{children:"Loading..."}),Object(s.jsxs)("h2",{children:[c," card"]}),Object(s.jsxs)("p",{children:["Height: ",l]}),Object(s.jsxs)("p",{children:["Weight: ",u]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsxs)("ul",{children:["Types:",f]})}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsxs)("ul",{children:["Abilities: ",j]})}),Object(s.jsx)("img",{src:p,alt:""})]})}))),g=Object(o.a)((function(e){var t=e.store,n=Object(i.useCallback)((function(){var e=Math.floor(160*Math.random()+50);t.getPokemon(e).then((function(e){return t.setPokeStats(e)})).catch((function(e){return console.log(e)}))}),[t.pokeStats]);Object(i.useEffect)((function(){n();var e=setInterval((function(){return n()}),5e3);return function(){clearInterval(e)}}),[]);var r=t.pokeStats,c=r.name,o=r.abilities,a=r.types,l=r.height,u=r.weight,p=r.sprite,f=function(){if(a)return a.map((function(e){return Object(s.jsxs)("li",{className:"pokelist-item",children:["- ",e.type.name]},e.type.url)}))}(),j=function(){if(o)return o.map((function(e){return Object(s.jsxs)("li",{className:"pokelist-item",children:["- ",e.ability.name]},e.ability.url)}))}();return Object(s.jsxs)("div",{className:"poke-info",children:[!t.pokeStats&&Object(s.jsx)("span",{children:"Loading..."}),Object(s.jsxs)("div",{className:"wrapper-info",children:[Object(s.jsxs)("h2",{children:[c," card"]}),Object(s.jsxs)("p",{children:["Height: ",l]}),Object(s.jsxs)("p",{children:["Weight: ",u]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsxs)("ul",{children:["Types:",f]})}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsxs)("ul",{children:["Abilities: ",j]})}),Object(s.jsx)("img",{src:p,alt:""})]})]})})),y=(n(49),Object(o.a)((function(e){var t=e.store;Object(i.useEffect)((function(){t.getAllTypes().then((function(e){t.setPokeTypesOptions(e)}))}),[t]);var n=function(e){if(e&&0!==t.pokeTypeId)return e.map((function(e,t){var n=e.id,i=e.name;return Object(s.jsx)("option",{value:n.slice(1),children:i},t)}))}(t.pokeTypesOptions);return Object(s.jsxs)("div",{className:"poke-options",children:[Object(s.jsx)("span",{children:"Type: "}),Object(s.jsx)("select",{onChange:function(e){return t.onTypeSelected(e.target.value)},children:n})]})}))),L=(n(50),Object(o.a)((function(e){var t=e.store;return Object(s.jsx)("div",{className:"filter-panel",children:Object(s.jsx)("input",{className:"filter-input",value:t.filter,onChange:function(e){return n=e.target.value,void t.updateFilter(n);var n},type:"text",placeholder:"Enter pokemon name"})})}))),N=(n(51),Object(o.a)((function(){var e=x.pokeID?Object(s.jsx)(v,{store:x}):Object(s.jsx)(g,{store:x}),t=x.pokeTypeID?Object(s.jsx)(u,{store:x}):Object(s.jsx)(l,{store:x});return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(a,{}),Object(s.jsxs)("div",{className:"filter",children:[Object(s.jsx)(L,{store:x}),Object(s.jsx)(y,{store:x})]}),Object(s.jsxs)("div",{className:"main-menu",children:[t,e]})]})})));c.a.render(Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(N,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.cb6790a9.chunk.js.map